<%= @archivo.include_glut %><br/>
<br/>
static float tx=0.0f, ty=0.0f, tz=0.0f;<br/>
static float sx=1.0f, sy=1.0f, sz=1.0f;<br/>
static float ax=0.0f, ay=0.0f, az=0.0f;<br/>
<br/>
void init(void);<br/>
void display(void);<br/>
void reshape(int, int);<br/>
<br/>
void init(void){<br/>
	glClearColor(0.0,0.0,0.0,0.0);<br/>
	glShadeModel(GL_FLAT);<br/>
}<br/>
<br/>
void dibujaFigura3D(){<br/>
    glBegin(GL_LINES);<br/>
<% @archivo.print_vectores.each do |line| %>
<%= line%><br/>
<% end %>
    glEnd();<br/>
}<br/>
<br/>
void display(void){<br/>
	glClear(GL_COLOR_BUFFER_BIT);<br/>
	glPushMatrix();<br/>
	glTranslatef(tx,ty,tz);<br/>
	glRotatef(ax,1, 0, 0);<br/>
	glRotatef(ay,0, 1, 0);<br/>
	glRotatef(az,0, 0, 1);<br/>
	glScalef(sx,sy,sz);<br/>
<%= @archivo.print_color %><br/>
	dibujaFigura3D();<br/>
	glPopMatrix();<br/>
	glFlush();<br/>
}<br/>
<br/>
void reshape(GLsizei w, GLsizei h){<br/>
	glViewport(0,0,w,h);<br/>
	glMatrixMode(GL_PROJECTION);<br/>
	glLoadIdentity();<br/>
	glOrtho(-15,15,-15,15,-15,15);<br/>
    //gluPerspective(60, 1, 0 , 10);<br/>
	gluLookAt(0,0,-7, 0,0,0, 0,1,0);<br/>
	glMatrixMode(GL_MODELVIEW);<br/>
}<br/>
<br/>
void keyboard(unsigned char key, int x, int y){<br/>
     switch(key){<br/>
     	// controles para translacion<br/>
     	case '<%= @archivo.tecla_tx %>': tx += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_tx.upcase %>': tx -= 0.3f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_ty %>': ty += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_ty.upcase %>': ty -= 0.3f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_tz %>': tz += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_tz.upcase %>': tz -= 0.3f;break;<br/>
<br/>
     	// controles para escalado<br/>
     	case '<%= @archivo.tecla_sx %>': sx += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_sx.upcase %>': sx -= 0.3f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_sy %>': sy += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_sy.upcase %>': sy -= 0.3f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_sz %>': sz += 0.3f;break;<br/>
     	case '<%= @archivo.tecla_sz.upcase %>': sz -= 0.3f;break;<br/>
<br/>
     	// controles para rotacion<br/>
     	case '<%= @archivo.tecla_rx %>': ax += 2.0f;break;<br/>
     	case '<%= @archivo.tecla_rx.upcase %>': ax -= 2.0f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_ry %>': ay += 2.0f;break;<br/>
     	case '<%= @archivo.tecla_ry.upcase %>': ay -= 2.0f;break;<br/>
<br/>
     	case '<%= @archivo.tecla_rz %>': az += 2.0f;break;<br/>
     	case '<%= @archivo.tecla_rz.upcase %>': az -= 2.0f;break;<br/>
     }<br/>
     display();<br/>
}<br/>
<br/>
int main(int argc, char** argv){<br/>
	glutInit(&argc, argv);<br/>
	glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);<br/>
	glutInitWindowSize(500,500);<br/>
	glutInitWindowPosition(100,100);<br/>
	glutCreateWindow("#{@archivo.nombre}");<br/>
	init();<br/>
	glutDisplayFunc(display);<br/>
	glutReshapeFunc(reshape);<br/>
	glutKeyboardFunc(keyboard);<br/>
	glutMainLoop();<br/>
	return 0;<br/>
}<br/>

